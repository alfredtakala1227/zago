Array.prototype.getUnique=function(){for(var u={},a=[],i=0,l=this.length;l>i;++i)u.hasOwnProperty(this[i])||(a.push(this[i]),u[this[i]]=1);return a},Array.prototype.shuffle=function(){for(var i=this.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1)),temp=this[i];this[i]=this[j],this[j]=temp}return this},Array.prototype.unserialize=function(data){var that=this,utf8Overhead=function(chr){var code=chr.charCodeAt(0);return 128>code?0:2048>code?1:2};return error=function(type,msg,filename,line){throw new that.window[type](msg,filename,line)},read_until=function(data,offset,stopchr){for(var i=2,buf=[],chr=data.slice(offset,offset+1);chr!=stopchr;)i+offset>data.length&&error("Error","Invalid"),buf.push(chr),chr=data.slice(offset+(i-1),offset+i),i+=1;return[buf.length,buf.join("")]},read_chrs=function(data,offset,length){var i,chr,buf;for(buf=[],i=0;length>i;i++)chr=data.slice(offset+(i-1),offset+i),buf.push(chr),length-=utf8Overhead(chr);return[buf.length,buf.join("")]},_unserialize=function(data,offset){var dtype,dataoffset,keyandchrs,keys,contig,length,array,readdata,readData,ccount,stringlength,i,key,kprops,kchrs,vprops,vchrs,value,chrs=0,typeconvert=function(x){return x};switch(offset||(offset=0),dtype=data.slice(offset,offset+1).toLowerCase(),dataoffset=offset+2,dtype){case"i":typeconvert=function(x){return parseInt(x,10)},readData=read_until(data,dataoffset,";"),chrs=readData[0],readdata=readData[1],dataoffset+=chrs+1;break;case"b":typeconvert=function(x){return 0!==parseInt(x,10)},readData=read_until(data,dataoffset,";"),chrs=readData[0],readdata=readData[1],dataoffset+=chrs+1;break;case"d":typeconvert=function(x){return parseFloat(x)},readData=read_until(data,dataoffset,";"),chrs=readData[0],readdata=readData[1],dataoffset+=chrs+1;break;case"n":readdata=null;break;case"s":ccount=read_until(data,dataoffset,":"),chrs=ccount[0],stringlength=ccount[1],dataoffset+=chrs+2,readData=read_chrs(data,dataoffset+1,parseInt(stringlength,10)),chrs=readData[0],readdata=readData[1],dataoffset+=chrs+2,chrs!=parseInt(stringlength,10)&&chrs!=readdata.length&&error("SyntaxError","String length mismatch");break;case"a":for(readdata={},keyandchrs=read_until(data,dataoffset,":"),chrs=keyandchrs[0],keys=keyandchrs[1],dataoffset+=chrs+2,length=parseInt(keys,10),contig=!0,i=0;length>i;i++)kprops=_unserialize(data,dataoffset),kchrs=kprops[1],key=kprops[2],dataoffset+=kchrs,vprops=_unserialize(data,dataoffset),vchrs=vprops[1],value=vprops[2],dataoffset+=vchrs,key!==i&&(contig=!1),readdata[key]=value;if(contig){for(array=new Array(length),i=0;length>i;i++)array[i]=readdata[i];readdata=array}dataoffset+=1;break;default:error("SyntaxError","Unknown / Unhandled data type(s): "+dtype)}return[dtype,dataoffset-offset,typeconvert(readdata)]},_unserialize(data+"",0)[2]},String.prototype.replaceAll=function(sub,str){var temp=this.replace(sub,str);return-1!==temp.indexOf(sub)?temp.replaceAll(sub,str):temp},String.prototype.firstWord=function(){return this.trim().split(" ")[0]||""},Modernizr.load([{test:Modernizr.mobile||Modernizr.phone||Modernizr.tablet,yep:["../css/touchscreens.css"]}]);